<div class="login-wrapper">

  <!-- Left Panel (Form) -->
  <div class="right-panel">
    <div class="form-card">

      <div class="form-header">
        <h1>Create account</h1>
        <p>Join the campusHub Community!</p>
      </div>

      <form (ngSubmit)="onRegister()" #registerForm="ngForm">

        <div class="field">
          <label for="username">Username</label>
          <div class="input-wrap">
            <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
            <input id="username" type="text" [(ngModel)]="form.username"
              name="username" placeholder="e.g. tarekk_122" required />
          </div>
        </div>

        <div class="field">
          <label for="phone">Phone Number</label>
          <div class="input-wrap">
            <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.69 12 19.79 19.79 0 0 1 1.63 3.38 2 2 0 0 1 3.6 1.21h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L7.91 8.85a16 16 0 0 0 6.29 6.29l.95-.96a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
            <input id="phone" type="tel" [(ngModel)]="form.phone_number"
              name="phone_number" placeholder="e.g. 01012345678" required />
          </div>
        </div>

        <div class="field-row">
          <div class="field">
            <label for="department">Department</label>
            <div class="input-wrap">
              <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                <polyline points="9 22 9 12 15 12 15 22"/>
              </svg>
              <select id="department" [(ngModel)]="form.department" name="department" required>
                <option value="" disabled selected>Select</option>
                <option value="bis">BIS</option>
                <option value="fmi">FMI</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label for="year">Year</label>
            <div class="input-wrap">
              <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <select id="year" [(ngModel)]="form.year" name="year" required>
                <option value="" disabled selected>Select</option>
                <option value="1">Year 1</option>
                <option value="2">Year 2</option>
                <option value="3">Year 3</option>
                <option value="4">Year 4</option>
              </select>
            </div>
          </div>
        </div>

        <div class="field">
          <label for="password">Password</label>
          <div class="input-wrap">
            <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="11" width="18" height="11" rx="2"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
            <input id="password" [type]="showPassword ? 'text' : 'password'"
              [(ngModel)]="form.password" name="password"
              placeholder="Create a password" required />
            <button type="button" class="toggle-pass" (click)="showPassword = !showPassword">
              <svg *ngIf="!showPassword" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              <svg *ngIf="showPassword" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>
                <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>
                <line x1="1" y1="1" x2="23" y2="23"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="field">
          <label for="confirm">Confirm Password</label>
          <div class="input-wrap">
            <svg class="icon-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="11" width="18" height="11" rx="2"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
            <input id="confirm" [type]="showConfirm ? 'text' : 'password'"
              [(ngModel)]="form.confirmpassword" name="confirmpassword"
              placeholder="Repeat your password" required />
            <button type="button" class="toggle-pass" (click)="showConfirm = !showConfirm">
              <svg *ngIf="!showConfirm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              <svg *ngIf="showConfirm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>
                <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>
                <line x1="1" y1="1" x2="23" y2="23"/>
              </svg>
            </button>
          </div>
        </div>

        <p class="error-msg" *ngIf="errorMessage">{{ errorMessage }}</p>

        <button type="submit" class="btn-primary" [disabled]="isLoading">
          <span *ngIf="!isLoading">Create Account</span>
          <span *ngIf="isLoading" class="spinner"></span>
        </button>

      </form>

      <p class="signup-link">Already have an account? <a routerLink="/login">Sign in</a></p>

    </div>
  </div>

  <!-- Right Panel (Branding) -->
  <div class="left-panel">
    <div class="brand">
      <div class="brand-icon">BIS</div>
      <span>CampusHub</span>
    </div>

    <div class="illustration">
      <div class="orbit orbit-lg"></div>
      <div class="orbit orbit-sm"></div>
      <div class="center-circle">ðŸŽ“</div>
      <div class="badge badge-top-left">ðŸ“š Courses</div>
      <div class="badge badge-top-right">ðŸ“Š GPA</div>
      <div class="badge badge-bottom">ðŸ”” Announcements</div>
    </div>

    <div class="left-text">
      <h2>Start your journey <span>with CampusHub</span></h2>
      <p>BIS & FMI students â€” manage courses, track tasks, and stay on top of your semester.</p>
    </div>

    <span class="copyright">Â© 2026 Mohamed Tarek.</span>
  </div>

</div>
